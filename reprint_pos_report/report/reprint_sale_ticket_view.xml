<?xml version="1.0" encoding="utf-8"?>
<openerp>
    <data>
        <template id="reprint_sale_ticket">
            <style>
                .page .page-sale-ticket {
                text-align: left;
                width: 100%;
                background-color: white;
                margin: 5px;
                padding: 5px;
                font-size: 17.5px;
                font-family: "Inconsolata";
                overflow: hidden;
                line-height: normal;
                }
            </style>
            <t t-call="report.html_container">
                <div class="page">
                    <t t-foreach="docs" t-as="o">
                        <div class="page-sale-ticket">
                            <div class="page-center-align" style="text-align: center;">
                                <strong>
                                    <t t-esc="main_header['company_name']"/>
                                </strong>
                                <br/>
                                <strong>MARISHIPA OUTFITTERS</strong>

                                <br/>
                                <t t-esc="main_header['street']"/>
                                <t t-esc="main_header['street2']"/>
                                <br/>
                                <t t-esc="main_header['city']"/>
                                <t t-esc="main_header['zip']"/>
                                ,
                                <t t-esc="main_header['contact_no']"/>
                                <br/>
                                VAT Reg. No.
                                <t t-esc="main_header['vat']"/>
                                <br/>
                                Musak-11(ka)
                                <br/>
                                <br/>
                                Shop:
                                <t t-esc="main_header['shop_name']"/>
                                <br/>
                            </div>
                            <br/>
                            <div>
                                <div>
                                    Invoice#
                                    <t t-esc="sub_header['order_id']"/>
                                    <br/>
                                    Customer:
                                    <t t-esc="sub_header['customer_name']"/>
                                    <br/>
                                    Cashier:
                                    <t t-esc="sub_header['cashier']"/>
                                    <br/>
                                    Date:
                                    <t t-esc="sub_header['date_order']"/>
                                    <br/>
                                </div>

                            </div>
                            <div style="clear: both;"></div>
                            <br/>
                            <t t-if="reprint">
                                <div style='text-align:center'>
                                    <t t-esc="sub_header['receipt_header']"/>
                                </div>
                            </t>
                            <br/>
                            <table>
                                <colgroup>
                                    <col width='30%'/>
                                    <col width='10%'/>
                                    <col width='20%'/>
                                    <col width='15%'/>
                                    <col width='25%'/>
                                </colgroup>
                                <tr>
                                    <th>Product</th>
                                    <th style="text-align: right;">Qty</th>
                                    <th style="text-align: right;">Rate</th>
                                    <th style="text-align: right;">VAT</th>
                                    <th style="text-align: right;">Amount</th>
                                </tr>
                                <tr>
                                    <th>-------</th>
                                    <th style="text-align: right;">---</th>
                                    <th style="text-align: right;">----</th>
                                    <th style="text-align: right;">---</th>
                                    <th style="text-align: right;">------</th>
                                </tr>
                                <tr t-foreach="orderlines" t-as="orderline">
                                    <td>
                                        <t t-esc="orderline['product_name']"/>
                                    </td>
                                    <td style="text-align: right;">
                                        <t t-esc="orderline['quantity']"/>
                                    </td>
                                    <td style="text-align: right;">
                                        <t t-esc="orderline['rate']"/>
                                    </td>
                                    <td style="text-align: right;">
                                        <t t-esc="orderline['vat']"/>
                                    </td>
                                    <td style="text-align: right;">
                                        <t t-esc="orderline['total_amount']"
                                           t-esc-options='{"widget": "monetary", "display_currency": "res_company.currency_id"}'/>
                                    </td>
                                </tr>
                                <tr>
                                    <td style="padding-bottom:40px;"></td>
                                </tr>

                                <tr>
                                    <td>
                                        <strong>Total:</strong>
                                    </td>
                                    <td colspan="3">
                                        <strong>
                                            <t t-esc="total_value['quantity']"/>
                                        </strong>
                                    </td>
                                    <td style="text-align: right;">
                                        <strong>
                                            <t t-esc="total_value['total']"
                                               t-esc-options='{"widget": "monetary", "display_currency": "res_company.currency_id"}'/>
                                        </strong>
                                    </td>
                                </tr>
                                <tr>
                                    <td colspan="4">Discount:</td>
                                    <td style="text-align: right;">
                                        <t t-esc="total_value['discount']"
                                           t-esc-options='{"widget": "monetary", "display_currency": "res_company.currency_id"}'/>
                                    </td>
                                </tr>

                                <tr>
                                    <td colspan="4">VAT</td>
                                    <td style="text-align: right;">
                                        <t t-esc="total_value['vat']"
                                           t-esc-options='{"widget": "monetary", "display_currency": "res_company.currency_id"}'/>
                                    </td>
                                </tr>
                                <tr>
                                    <td colspan="4">
                                        <strong>Net Amount:</strong>
                                    </td>
                                    <td style="text-align: right;">
                                        <strong>
                                            <t t-esc="total_value['net_amount']"
                                               t-esc-options='{"widget": "monetary", "display_currency": "res_company.currency_id"}'/>
                                        </strong>
                                    </td>
                                </tr>
                                <tr t-foreach="payment" t-as="line">
                                    <td colspan="4" style="padding-top: 40px;">
                                        <t t-esc="line['name']"/>
                                    </td>
                                    <td style="text-align: right;">
                                        <t t-esc="line['amount']"
                                           t-esc-options='{"widget": "monetary", "display_currency": "res_company.currency_id"}'/>
                                    </td>
                                </tr>
                            </table>
                            <br/>
                            <t t-if="sub_header['receipt_footer']">
                                <br/>
                                <div style='text-align:center'>
                                    <t t-esc="sub_header['receipt_footer']"/>
                                </div>
                            </t>

                        </div>
                    </t>
                </div>
            </t>
        </template>


        <report
                id="action_report_pos_sale_ticket"
                string="Receipt New"
                model="pos.order"
                report_type="qweb-pdf"
                name="reprint_pos_report.reprint_sale_ticket"
                file="reprint_pos_report.reprint_sale_ticket"/>

        <record id="paperformat_for_reprint" model="report.paperformat">
            <field name="name">Point Of Sale Receipt</field>
            <field name="default" eval="True"/>
            <field name="format">custom</field>
            <field name="page_height">150</field>
            <field name="page_width">74</field>
            <field name="orientation">Portrait</field>
            <field name="margin_top">3</field>
            <field name="margin_bottom">2</field>
            <field name="margin_left">2</field>
            <field name="margin_right">2</field>
            <field name="header_line" eval="False"/>
            <field name="header_spacing">3</field>
            <field name="dpi">130</field>
        </record>

        <record id="action_report_pos_sale_ticket" model="ir.actions.report.xml">
            <field name="paperformat_id" ref="reprint_pos_report.paperformat_for_reprint"/>
        </record>
    </data>
</openerp>